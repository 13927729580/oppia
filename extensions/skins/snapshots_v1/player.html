<script type="text/ng-template" id="skins/Snapshots">
  <link rel="stylesheet" type="text/css"
        href="/extensions/skins/snapshots_v1/static/snapshots.css">

  <div ng-if="transcript.length > 0">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-6">
          <md-card style="background-color: white; padding: 24px;">
            <div style="width: 100%;" ng-if="transcript.length > 1">
              <button ng-disabled="transcriptIndex <= 0" ng-click="goToPreviousCard()" class="snapshots-skin-card-nav-button">
                <span class="glyphicon glyphicon-arrow-left" ng-show="transcriptIndex <= 0" style="opacity: 0.3;"></span>
                <span class="glyphicon glyphicon-arrow-left" ng-show="transcriptIndex > 0"></span>
              </button>

              <span ng-if="transcriptIndex >= 0 && transcriptIndex < transcript.length - 1" class="pull-right">
                <button ng-click="goToNextCard()" class="snapshots-skin-card-nav-button">
                  <span class="glyphicon glyphicon-arrow-right"></span>
                </button>
              </span>
            </div>

            <br>

            <table class="snapshots-skin-card-row-container">
              <tr class="snapshots-skin-card-row">
                <td class="snapshots-skin-row-avatar" valign="top">
                  <img class="snapshots-skin-row-avatar-img" src="/images/general/oppia_black_48px.png">
                </td>
                <td class="snapshots-skin-oppia-output snapshots-skin-oppia-content" ng-class="{'snapshots-skin-old-content': transcriptIndex < transcript.length - 1}">
                  <div angular-html-bind="transcript[transcriptIndex].content"></div>
                </td>
              </tr>
            </table>

            <div ng-repeat="responsePair in transcript[transcriptIndex].answerFeedbackPairs track by $index">
              <table class="snapshots-skin-card-row-container">
                <tr ng-show="responsePair.learnerAnswer" class="snapshots-skin-card-row">
                  <td class="snapshots-skin-row-avatar" valign="top">
                    <img class="snapshots-skin-row-avatar-img img-circle" ng-src="<[profilePicture]>">
                  </td>
                  <td class="snapshots-skin-learner-answer" angular-html-bind="responsePair.learnerAnswer"></td>
                </tr>
              </table>
              <table ng-show="responsePair.oppiaFeedback" class="snapshots-skin-card-row-container">
                <tr class="snapshots-skin-card-row">
                  <td class="snapshots-skin-row-avatar" valign="top">
                    <img class="snapshots-skin-row-avatar-img" src="/images/general/oppia_black_48px.png">
                  </td>
                  <td class="snapshots-skin-oppia-output snapshots-skin-oppia-feedback" angular-html-bind="responsePair.oppiaFeedback"></td>
                </tr>
              </table>
            </div>

            <div ng-if="transcriptIndex === transcript.length - 1 && waitingForLearner">
              <table class="snapshots-skin-card-row-container" style="margin-bottom: 0;">
                <tr class="snapshots-skin-card-row">
                  <td class="snapshots-skin-row-avatar" valign="top">
                    <img class="snapshots-skin-row-avatar-img img-circle" ng-src="<[profilePicture]>">
                  </td>
                  <td>
                    <div ng-if="upcomingQuestionHtml">
                      <div class="snapshots-skin-learner-input">
                        <md-button class="md-button-success" ng-click="onClickContinue()">Continue</md-button>
                      </div>
                    </div>
                    <div ng-if="!upcomingQuestionHtml">
                      <div class="snapshots-skin-learner-input" angular-html-bind="inputTemplate"></div>
                    </div>
                  </td>
                </tr>
              </table>
            </div>
          </md-card>
        </div>

        <div class="col-lg-6 col-md-6 col-sm-6" style="padding-top: 10px;">
          <oppia-gadget-panel panel-contents="gadgetPanelsContents.main"></oppia-gadget-panel>
        </div>
      </div>
    </div>
  </div>
</script>
